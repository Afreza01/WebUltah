<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Birthday</title>

  <!-- Import font Great Vibes & Poppins dari Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* Background dengan gambar fixed dan particles di belakang */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', Arial, sans-serif;
      background-image: url('image/backg.jpeg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      position: relative;
      overflow-x: hidden;
    }

    /* Container utama di atas background */
    .container {
      text-align: center;
      padding: 20px;
      max-width: 90%;
      margin: auto;
      position: relative;
      z-index: 10; /* di atas particles */
    }

    .slider-container {
      overflow: hidden;
      width: 300px;
      height: 200px;
      margin: 0 auto;
      position: relative;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .slider {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }

    .slider img {
      width: 300px;
      height: 200px;
      object-fit: cover;
      border-radius: 12px;
      flex-shrink: 0;
    }

    .message {
      margin-top: 20px;
      background-color: rgba(255, 202, 202, 0.9);
      padding: 15px;
      border-radius: 12px;
      max-width: 600px;
      margin-inline: auto;
      font-family: 'Great Vibes', cursive;
      font-size: 28px;
      line-height: 1.6;
      color: #330000;
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.7);
      position: relative;
      z-index: 10;
      white-space: pre-wrap; /* agar \n terbaca */
    }

    .button {
      margin-top: 20px;
      padding: 12px 28px;
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      background-color: #ff5260;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      display: inline-block;
      opacity: 0;
      transition: opacity 0.5s ease, background-color 0.3s ease;
      position: relative;
      z-index: 10;
      cursor: pointer;
      border: none;
    }

    .button:hover {
      background-color: #e04452;
    }

    /* Elemen untuk particles */
    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1; /* di belakang container */
      pointer-events: none;
    }
  </style>
</head>

<body>
  <!-- Particle Background -->
  <div id="particles-js"></div>

  <!-- Backsound Music -->
  <audio id="bg-music" autoplay loop>
    <source src="audio/backsound3.mp4" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- Slider -->
  <div class="container">
    <div class="slider-container">
      <div class="slider" id="slider">
        <img src="image/fotbar1.jpeg" alt="" />
        <img src="image/fotbar2.jpeg" alt="Photo 2" />
        <img src="image/fotbar3.jpeg" alt="Photo 3" />
        <img src="image/fotbar4.jpeg" alt="Photo 4" />
        <img src="image/fotbar5.jpeg" alt="Photo 5" />
        <img src="image/fotbar6.jpeg" alt="Photo 6" />
        <img src="image/fotbar7.jpeg" alt="Photo 7" />
        <img src="image/fotbar8.jpeg" alt="Photo 8" />
        <img src="image/fotbar9.jpeg" alt="Photo 9" />
        <img src="image/fotbar10.jpeg" alt="Photo 10" />
        <img src="image/fotbar11.jpeg" alt="Photo 11" />
      </div>
    </div>

    <!-- Message -->
    <div class="message" id="message"></div>
    <a href="slide4.html" class="button" id="next-button">Klik lagi dah</a>
  </div>

  <!-- Particles.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script>
    particlesJS('particles-js', {
      "particles": {
        "number": {
          "value": 80,
          "density": {
            "enable": true,
            "value_area": 800
          }
        },
        "color": {
          "value": "#ff5260"
        },
        "shape": {
          "type": "image",
          "image": {
            "src": "data:image/svg+xml;utf8,<svg fill='%23ff5260' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/></svg>",
            "width": 24,
            "height": 24
          }
        },
        "opacity": {
          "value": 0.8,
          "random": true,
          "anim": {
            "enable": true,
            "speed": 1,
            "opacity_min": 0.1,
            "sync": false
          }
        },
        "size": {
          "value": 3,
          "random": true,
          "anim": {
            "enable": false
          }
        },
        "line_linked": {
          "enable": false
        },
        "move": {
          "enable": true,
          "speed": 1,
          "direction": "none",
          "random": true,
          "straight": false,
          "out_mode": "out",
          "bounce": false
        }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": {
          "onhover": {
            "enable": false
          },
          "onclick": {
            "enable": false
          },
          "resize": true
        }
      },
      "retina_detect": true
    });

    // Slider logic
    const slider = document.getElementById('slider');
    const images = slider.querySelectorAll('img');
    let currentIndex = 0;

    function slideImages() {
      currentIndex = (currentIndex + 1) % images.length;
      slider.style.transform = `translateX(-${currentIndex * 300}px)`;
    }

    setInterval(slideImages, 4000);

    // Typing effect
    window.addEventListener('DOMContentLoaded', () => {
      startTyping();
    });

    const messageElement = document.getElementById("message");
    const fullText = `Haii....\n\nSelamat ulang tahun ya. Terima kasih udh hadir di dunia ini dan berbagi kebahagiaan. Semoga semua harapan yang kamu inginkan bisa jadi kenyataan.\n\nSelamat menjadi manusia dewasa ya, dimana kamu akan ketemu sama lebih banyak rintangan. Jangan lupa ucapin terima kasih pada diri kamu sendiri yang sangat kuat sampe saat ini.\n\nSehat sehat terus ya moza (syg wkwk) jangan lupa bersyukur. Cape boleh, Nyerah jangan!\n\nluv u.`;

    let charIndex = 0;

    function startTyping() {
      if (charIndex < fullText.length) {
        messageElement.innerHTML += fullText.charAt(charIndex) === "\n" ? "<br>" : fullText.charAt(charIndex);
        charIndex++;
        setTimeout(startTyping, 110);
      } else {
        document.getElementById("next-button").style.opacity = "1";
      }
    }

    // Play music on click for Safari/iOS compatibility
    window.addEventListener('click', function () {
      const music = document.getElementById('bg-music');
      if (music.paused) {
        music.play();
      }
    });
  </script>
</body>
</html>
